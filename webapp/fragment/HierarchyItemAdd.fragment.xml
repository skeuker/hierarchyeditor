<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:form="sap.ui.layout.form">
	<ResponsivePopover id="popHierarchyItemAdd" title="{i18n>titleAddNewItem}" class="sapUiPopupWithPadding" placement="Bottom"
		initialFocus="inputNewItemText">
		<content>
			<form:Form id="formCardAction" class="sapUiMediumMarginBottom" editable="true" width="450px">
				<form:layout>
					<form:ResponsiveGridLayout singleContainerFullSize="false" adjustLabelSpan="true" labelSpanS="4" labelSpanM="4" labelSpanL="4"/>
				</form:layout>
				<form:formContainers>
					<form:FormContainer>
						<form:formElements>
							<form:FormElement>
								<form:label>
									<Label required="true" text="{i18n>lblSelectedNodeText}"/>
								</form:label>
								<form:fields>
									<Input id="inputSelectedNodeText" value="{ViewModel>/sSelectedNodeText}" width="230px" enabled="false"/>
								</form:fields>
							</form:FormElement>
							<form:FormElement>
								<form:label>
									<Label required="true" text="{i18n>lblNewItemText}"/>
								</form:label>
								<form:fields>
									<Input id="inputNewItemText" value="{ViewModel>NodeText}" width="230px"/>
								</form:fields>
							</form:FormElement>
							<form:FormElement>
								<form:label>
									<Label required="true" text="{i18n>lblNewNodeCategoryID}"/>
								</form:label>
								<form:fields>
									<Select id="inputNodeCategoryID" forceSelection="false" selectedKey="{ViewModel>NodeCategoryID}" items="{ path: 'OptionsModel>/NodeCategories' }" width="160px" change="onNodeCategoryChange">
										<core:ListItem key="{OptionsModel>NodeCategoryID}" text="{OptionsModel>NodeCategoryText}" icon="{OptionsModel>NodeCategoryIcon}"/>
									</Select>
								</form:fields>
							</form:FormElement>
							<form:FormElement visible="{= ${ViewModel>NodeCategoryID} === '1' }">
								<form:label>
									<Label required="true" text="{i18n>lblNewItemNodeTypeID}"/>
								</form:label>
								<form:fields>
									<Select id="inputNodeTypeID" forceSelection="false" selectedKey="{ViewModel>NodeTypeID}" items="{ path: 'HierarchyMetaDataModel>/NodeTypes' }" width="230px">
										<core:ListItem key="{HierarchyMetaDataModel>NodeTypeID}" text="{HierarchyMetaDataModel>NodeTypeText}"/>
									</Select>
								</form:fields>
							</form:FormElement>
							<form:FormElement visible="{= ${ViewModel>NodeCategoryID} === '2' }">
								<form:label>
									<Label required="true" text="{i18n>lblNewItemMemberTypeID}"/>
								</form:label>
								<form:fields>
									<Select id="inputMemberTypeID" forceSelection="false" selectedKey="{ViewModel>MemberTypeID}" items="{ path: 'HierarchyMetaDataModel>/MemberTypes' }" width="230px">
										<core:ListItem key="{HierarchyMetaDataModel>MemberTypeID}" text="{HierarchyMetaDataModel>MemberTypeText}"/>
									</Select>
								</form:fields>
							</form:FormElement>
							<form:FormElement visible="{= ${ViewModel>NodeCategoryID} === '1' }">
								<form:label>
									<Label required="true" text="{i18n>lblAddNewItemWithRelationship}"/>
								</form:label>
								<form:fields>
									<Select id="inputRelationshipTypeID" forceSelection="false" selectedKey="{ViewModel>RelationshipTypeID}" items="{ path: 'OptionsModel>/RelationshipTypes' }"
										width="160px">
										<core:ListItem key="{OptionsModel>RelationshipTypeID}" text="{OptionsModel>RelationshipTypeText}" icon="{OptionsModel>RelationshipTypeIcon}"/>
									</Select>
								</form:fields>
							</form:FormElement>
						</form:formElements>
					</form:FormContainer>
				</form:formContainers>
			</form:Form>
		</content>
		<beginButton>
			<Button text="Cancel" press="onCloseHierarchyItemAddPopover"/>
		</beginButton>
		<endButton>
			<Button text="Insert" press="onInsertHierarchItem"/>
		</endButton>
	</ResponsivePopover>
</core:FragmentDefinition>